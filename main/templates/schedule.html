{% extends "base.html" %}
{% load static %}
{% block title %}–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'schedule.css' %}">
<div class="group-select-container">
    <div class="group-select">
        <select id="group-select" onchange="location = this.value;">
            <option value="{% url 'schedule' %}">–í—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É</option>
            {% for group in groups %}
                <option value="{% url 'schedule_group' group.id %}" 
                    {% if group.id == selected_group.id %}selected{% endif %}>
                    {{ group.name }}-{{ group.course }}
                </option>
            {% endfor %}
        </select>
    </div>
    <a href="{% url 'add_schedule' %}" class="add-button">–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—É</a>
</div>
<hr>

{% if selected_group %}
    <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π –≥—Ä—É–ø–ø—ã {{ selected_group.name }}-{{ selected_group.course }}</h1>
    
    {% for day, lessons in schedule_by_day.items %}
        <h2>{{ day }}</h2>
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>–í—Ä–µ–º—è</th>
                        <th>–ü—Ä–µ–¥–º–µ—Ç</th>
                        <th>–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å</th>
                        <th>–ê—É–¥–∏—Ç–æ—Ä–∏—è</th>
                        <!-- <th>–î–µ–π—Å—Ç–≤–∏—è</th> -->
                    </tr>
                </thead>
                <tbody>
                    {% for lesson in lessons %}
                        <tr>
                            <td>{{ lesson.lesson_time.get_formatted_time }}</td>
                            <td>{{ lesson.subjects }}</td>
                            <td>{{ lesson.teacher }}</td>
                            <td>{{ lesson.room }}</td>
                            <!-- <td>
                                <a href="{% url 'edit_schedule' lesson.id %}" class="edit-button">‚úèÔ∏è</a>
                                <a href="{% url 'delete_schedule' lesson.id %}" class="delete-button">üóëÔ∏è</a>
                            </td> -->
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="5">–ù–µ—Ç –∑–∞–Ω—è—Ç–∏–π</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% endfor %}

{% else %}
    <div class="no-group-selected">
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ —á—Ç–æ–±—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</p>
    </div>
{% endif %}

{% endblock %}